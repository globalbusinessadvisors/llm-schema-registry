# Chaos Mesh: Pod Failure Test
# Simulates random pod failures to test resilience

apiVersion: chaos-mesh.org/v1alpha1
kind: PodChaos
metadata:
  name: schema-registry-pod-failure
  namespace: schema-registry
spec:
  action: pod-failure
  mode: one  # Kill one pod at a time
  duration: '60s'
  selector:
    namespaces:
      - schema-registry
    labelSelectors:
      app: schema-registry
  scheduler:
    cron: '@every 15m'  # Run every 15 minutes during chaos testing window
