apiVersion: v1
kind: ConfigMap
metadata:
  name: schema-registry-config
  namespace: schema-registry
  labels:
    app.kubernetes.io/name: schema-registry
    app.kubernetes.io/component: config
data:
  # Server configuration
  SERVER_HOST: "0.0.0.0"
  SERVER_PORT: "8080"
  GRPC_PORT: "9090"
  METRICS_PORT: "9091"

  # Database configuration
  DATABASE_MAX_CONNECTIONS: "50"
  DATABASE_MIN_CONNECTIONS: "10"
  DATABASE_ACQUIRE_TIMEOUT: "30"

  # Redis configuration
  REDIS_POOL_SIZE: "20"
  REDIS_TIMEOUT: "5"
  CACHE_TTL: "3600"
  CACHE_MAX_SIZE: "50000"

  # S3 configuration
  S3_REGION: "us-east-1"
  S3_BUCKET: "schema-registry-artifacts"
  S3_PATH_STYLE: "false"

  # Application configuration
  RUST_LOG: "info,schema_registry=debug"
  RUST_BACKTRACE: "1"
  LOG_FORMAT: "json"

  # Features
  ENABLE_GRPC: "true"
  ENABLE_METRICS: "true"
  ENABLE_CORS: "true"

  # Performance
  MAX_SCHEMA_SIZE: "1048576"
  REQUEST_TIMEOUT: "30"
  GRACEFUL_SHUTDOWN_TIMEOUT: "10"
